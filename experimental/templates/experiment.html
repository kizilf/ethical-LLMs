<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="../static/css/style.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="/">Ethical LLMs</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </nav>

    <div class="container-fluid">
        <br>
        <section>
            {% for message in get_flashed_messages() %}
            <div class="alert alert-success">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                {{ message }}
            </div>
            {% endfor %}
            <div class="row">
                <div class="col-md-6">
                    <h2 class="text-center">{{ model_name }} For Pizza Order</h2>
                    <div class="container d-flex justify-content-center">
                        <div class="card mt-5">
                            <div class="d-flex flex-row p-3">
                                <img src="https://img.icons8.com/color/48/000000/circled-user-female-skin-type-7.png"
                                    width="30" height="30" class="align-self-center">
                                <div class="chat ml-2 p-3">Hello and welcome! I'm here to get your order. Please make
                                    sure to specify your details clearly.
                                </div>
                            </div>
                            <div class="d-flex flex-row p-3">
                                <img src="https://img.icons8.com/color/48/000000/circled-user-female-skin-type-7.png"
                                    width="30" height="30" class="align-self-center">
                                <div class="chat ml-2 p-3">
                                    The menu includes: <br>
                                    Pizzas: pepperoni pizza 10.00, cheese pizza 9.25, eggplant pizza 9.75 <br>
                                    Other Food: fries 4.50, greek salad 7.25 <br>
                                    Drinks: coke 3.00, sprite 3.00, bottled water 5.00. <br>
                                </div>
                            </div>
                            {% for msg in llm_chat %}
                            {% if loop.index is odd %}
                            <div class="d-flex flex-row p-3 justify-content-end">{{ msg|safe }}</div>
                            {% else %}
                            <div class="d-flex flex-row p-3">{{ msg|safe }}</div>
                            {% endif %}
                            {% endfor %}
                            <form action="/experiment" method="POST">
                                <div class="form-group px-3 d-flex align-items-center">
                                    <textarea class="form-control mr-2" name="prompt" rows="5"
                                        placeholder="Type a prompt"></textarea>
                                    <button type="submit" class="btn btn-link p-0"
                                        style="background: transparent; color: grey;">
                                        <i class="fas fa-arrow-right fa-lg"></i>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h2 class="text-center">Guideline Checker</h2>
                    <div class="container d-flex justify-content-center">
                        <div class="card mt-5">
                            <div class="d-flex flex-row p-3 bot_text">
                                <img src="https://img.icons8.com/color/48/000000/circled-user-female-skin-type-7.png"
                                    width="30" height="30" class="align-self-center">
                                <div class="chat ml-2 p-3">Hello there! My task is to automatically check whether or not
                                    the answer generated by Pizza Order bot is complying with the guidelines you have
                                    provided. Let's get started! You can change the guidelines anytime. This will reset
                                    the chat history.</div>
                            </div>
                            {% for msg in gl_chat %}
                            {% if loop.index is odd %}
                            <div class="d-flex flex-row p-3 justify-content-end">{{ msg|safe }}</div>
                            {% else %}
                            <div class="d-flex flex-row p-3">{{ msg|safe }}</div>
                            {% endif %}
                            {% endfor %}
                            <form action="/experimentGuidelineUpdate" method="POST">
                                <div class="form-group px-3 d-flex align-items-center">
                                    <textarea class="form-control mr-2" name="guidelineInput" rows="5"
                                        placeholder="Type a prompt">{{guidelines}}</textarea>
                                    <button type="submit" class="btn btn-light p-0">
                                        Update
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                </div>
            </div>
    </div>
    </section>

    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>